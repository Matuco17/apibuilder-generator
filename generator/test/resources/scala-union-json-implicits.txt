implicit def jsonReadsApiDocTestGuestUser: play.api.libs.json.Reads[GuestUser] = {
  (
    (__ \ "id").read[Long] and
    (__ \ "email").read[String] and
    (__ \ "name").readNullable[String] and
    (__ \ "bar").read[String]
  )(GuestUser.apply _)
}

implicit def jsonReadsApiDocTestRegisteredUser: play.api.libs.json.Reads[RegisteredUser] = {
  (
    (__ \ "id").read[Long] and
    (__ \ "email").read[String] and
    (__ \ "name").readNullable[String] and
    (__ \ "foo").read[String]
  )(RegisteredUser.apply _)
}

implicit def jsonReadsApiDocTestUser: play.api.libs.json.Reads[User] = {
  (
    (__ \ "registered_user").read[RegisteredUser].asInstanceOf[play.api.libs.json.Reads[User]]
    orElse
    (__ \ "guest_user").read[GuestUser].asInstanceOf[play.api.libs.json.Reads[User]]
  )
}

implicit def jsonWritesApiDocTestUser: play.api.libs.json.Writes[User] = new play.api.libs.json.Writes[User] {
  def writes(obj: User) = User_Helper.writes(obj)
}
